<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boot.infopass.mapper.InquiryMapper">
    <insert id="insertInquiry" parameterType="boot.infopass.dto.InquiryDto" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO inquiries (
            user_id,
            title,
            category,
            content,
            created_at
        ) VALUES (
            #{user_id},
            #{title},
            #{category},
            #{content},
            now()
        )
    </insert>
    
    
    <select id="selectInquiriesByUserId" parameterType="int" resultType="boot.infopass.dto.InquiryDto">
    SELECT 
        id,
        user_id,
        title,
        category,
        content,
        status,
        created_at,
        updated_at,
        response_content,
        response_date
    FROM inquiries
    WHERE user_id
    ORDER BY created_at DESC
</select>
    
</mapper>